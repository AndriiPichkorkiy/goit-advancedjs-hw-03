{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/loader.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n\nconst gallery = document.querySelector('.gallery');\n\nconst lightBox = new SimpleLightbox('.gallery .gallery-item a', {\n  captionDelay: 250, //ms\n  captionsData: 'alt',\n});\n\nfunction renderGallery(hits) {\n  const markup = hits\n    .map(item => {\n      return `\n        <li class=\"gallery-item\">\n            <a href=\"${item.largeImageURL}\">\n                <div class=\"image-wrapper\"><img src=\"${item.webformatURL}\" alt=\"${item.tags}\" /></div>\n                <ul class=\"image-description\">\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Likes</h3>\n                        <p class=\"description-value\">${item.likes}</p>\n                    </li>\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Views</h3>\n                        <p class=\"description-value\">${item.views}</p>\n                    </li>\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Comments</h3>\n                        <p class=\"description-value\">${item.comments}</p>\n                    </li>\n                    <li class=\"gallery-description\">\n                        <h3 class=\"description-title\">Downloads</h3>\n                        <p class=\"description-value\">${item.downloads}</p>\n                    </li>\n                </ul>\n            </a>\n        </li>\n        `;\n    })\n    .join('');\n\n  gallery.innerHTML = markup + '<li class=\"gallery-item\">';\n\n  lightBox.refresh();\n}\n\nfunction resetGalelry() {\n  gallery.innerHTML = '';\n}\n\nexport { renderGallery, resetGalelry };\n","const loader = document.querySelector('.loader');\nfunction loaderShow() {\n  loader.hidden = false;\n}\n\nfunction loaderHide() {\n  loader.hidden = true;\n}\n\nexport { loaderShow, loaderHide };\n","const key = '27649790-7921965d78458e948654f4c92';\nconst baseURL = 'https://pixabay.com/api/?';\n\nfunction fetchImage(query) {\n  return new Promise((resolve, reject) => {\n    const searchParams = new URLSearchParams({\n      key,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      q: query || '',\n    });\n\n    fetch(baseURL + searchParams.toString(), {\n      method: 'GET',\n    })\n      .then(resolve)\n      .catch(reject);\n  }).then(response => {\n    if (response.status !== 200 || !response.ok)\n      throw new Error('Request is failed with status: ' + response.status);\n\n    return response.json();\n  });\n}\n\nexport default fetchImage;\n","import iziToast from 'izitoast';\n\nimport { renderGallery, resetGalelry } from './js/render-functions';\nimport { loaderShow, loaderHide } from './js/loader';\n\nimport fetchImage from './js/pixabay-api';\n\nconst searchForm = document.querySelector('form');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchValue = event.target.search.value.trim();\n  if (!searchValue)\n    return iziToast.warning({\n      position: 'topRight',\n      message: 'Please fill-in the search input',\n    });\n\n  event.target.reset();\n\n  resetGalelry();\n  loaderShow();\n  fetchImage(searchValue)\n    .then(data => {\n      if (data.totalHits === 0)\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      renderGallery(data.hits);\n    })\n    .catch(error => {\n      iziToast.warning({\n        position: 'topRight',\n        message: error.message,\n      });\n    })\n    .finally(() => {\n      loaderHide();\n    });\n});\n"],"names":["gallery","lightBox","SimpleLightbox","renderGallery","hits","markup","item","resetGalelry","loader","loaderShow","loaderHide","key","baseURL","fetchImage","query","resolve","reject","searchParams","response","searchForm","event","searchValue","iziToast","data","error"],"mappings":"6vBAEA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,2BAA4B,CAC9D,aAAc,IACd,aAAc,KAChB,CAAC,EAED,SAASC,EAAcC,EAAM,CAC3B,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA;AAAA,uBAEUA,EAAK,aAAa;AAAA,uDACcA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,uDAIpCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,uDAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMhE,EACA,KAAK,EAAE,EAEVN,EAAQ,UAAYK,EAAS,4BAE7BJ,EAAS,QAAO,CAClB,CAEA,SAASM,GAAe,CACtBP,EAAQ,UAAY,EACtB,CC/CA,MAAMQ,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CACpBD,EAAO,OAAS,EAClB,CAEA,SAASE,GAAa,CACpBF,EAAO,OAAS,EAClB,CCPA,MAAMG,EAAM,qCACNC,EAAU,4BAEhB,SAASC,EAAWC,EAAO,CACzB,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAAN,EACA,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGG,GAAS,EAClB,CAAK,EAED,MAAMF,EAAUK,EAAa,WAAY,CACvC,OAAQ,KACd,CAAK,EACE,KAAKF,CAAO,EACZ,MAAMC,CAAM,CACnB,CAAG,EAAE,KAAKE,GAAY,CAClB,GAAIA,EAAS,SAAW,KAAO,CAACA,EAAS,GACvC,MAAM,IAAI,MAAM,kCAAoCA,EAAS,MAAM,EAErE,OAAOA,EAAS,MACpB,CAAG,CACH,CCjBA,MAAMC,EAAa,SAAS,cAAc,MAAM,EAEhDA,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,OAAO,MAAM,OAC9C,GAAI,CAACC,EACH,OAAOC,EAAS,QAAQ,CACtB,SAAU,WACV,QAAS,iCACf,CAAK,EAEHF,EAAM,OAAO,QAEbb,IACAE,IACAI,EAAWQ,CAAW,EACnB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,YAAc,EACrB,MAAM,IAAI,MACR,0EACV,EACMpB,EAAcoB,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMC,GAAS,CACdF,EAAS,QAAQ,CACf,SAAU,WACV,QAASE,EAAM,OACvB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbd,GACN,CAAK,CACL,CAAC"}